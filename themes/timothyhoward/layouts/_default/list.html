{{ define "main" }}
<section class="section section-tight">
  <div class="container">
    <p class="eyebrow">{{ .Section | title }}</p>
    <h1>{{ .Title }}</h1>
    <p class="lede">{{ .Params.description }}</p>
  </div>
</section>

<section class="section">
  <div class="container list-grid">
    {{ $paginator := .Paginate .Pages.ByDate.Reverse }}
    {{ range $paginator.Pages }}
      <article class="list-card">
        <div class="list-meta">{{ .Date.Format "Jan 2, 2006" }}</div>
        <h3><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
        <p>{{ with .Params.summary }}{{ . }}{{ else }}{{ .Summary }}{{ end }}</p>
        {{ with .Params.tags }}
          <div class="tag-row">
            {{ range . }}
              <a class="tag" href="{{ printf "/tags/%s/" (urlize .) | relURL }}">{{ . }}</a>
            {{ end }}
          </div>
        {{ end }}
      </article>
    {{ end }}
  </div>

  {{ if gt $paginator.TotalPages 1 }}
    <div class="container pagination">
      {{ if $paginator.HasPrev }}<a href="{{ $paginator.Prev.URL }}">Newer</a>{{ end }}
      <span>Page {{ $paginator.PageNumber }} of {{ $paginator.TotalPages }}</span>
      {{ if $paginator.HasNext }}<a href="{{ $paginator.Next.URL }}">Older</a>{{ end }}
    </div>
  {{ end }}
</section>
{{ end }}
